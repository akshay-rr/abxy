{
  "bsonType": "object",
  "required": ["uid","name","email","google_id","tasks"],
  "additionalProperties": false,
  "properties": {
    "_id": {
      "bsonType": "objectId"
    },
    "email": {
      "bsonType":"string"
    },
    "name": {
      "bsonType":"string"
    },
    "google_id": {
      "bsonType":"string"
    },
    "tasks": {
      "bsonType": "array",
      "items": {
        "bsonType": "object",
        "required": ["id","name","base_points","category","bonuses", "created_on", "last_done_on","description"],
        "properties": {
          "_id": {
            "bsonType": "objectId"
          },
          "name": {
            "bsonType": "string"
          },
          "tags": {
            "bsonType": "array",
            "items": {
              "bsonType": "string"
            }
          },
          "description": {
            "bsonType": "string"
          },
          "base_points": {
            "bsonType": "int"
          },
          "category": {
            "bsonType": "string"
          },
          "bonuses": {
            "bsonType": "array",
            "items": {
              "bsonType": "object",
              "required": ["_id","bonus_type","bonus_name","input_label","upper_bound","lower_bound", "evaluation_type","constants", "created_on"],
              "additionalProperties": false,
              "properties": {
                "_id": {
                  "bsonType": "objectId"
                },
                "bonus_type": {
                  "bsonType": "string"
                },
                "bonus_name": {
                  "bsonType": "string"
                },
                "input_label": {
                  "bsonType": "string"
                },
                "upper_bound": {
                  "bsonType": "double"
                },
                "lower_bound": {
                  "bsonType": "double"
                },
                "evaluation_type": {
                  "bsonType": "string"
                },
                "constants": {
                  "bsonType": "array",
                  "items": {
                    "bsonType": "double"
                  }
                },
                "created_on": {
                  "bsonType": "date"
                }
              }
            }
          },
          "created_on": {
            "bsonType": "date"
          },
          "last_done_on": {
            "bsonType": "date"
          }

        }
      },
      "uniqueItems": true
    }
  }
}